<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>MARS FUTURE AI</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --mars-red: #ff4d4d;
            --deep-space: #1a0a0a;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #4a1a1a 0%, #000 100%);
            color: white;
            font-family: 'Orbitron', sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* 화성 느낌 배경 레이어 */
        .mars-bg {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
            opacity: 0.3;
            z-index: -1;
        }

        #ui-layer {
            text-align: center;
            z-index: 10;
        }

        h1 {
            font-size: 5rem;
            color: var(--mars-red);
            text-shadow: 0 0 20px rgba(255, 77, 77, 0.7);
            margin-bottom: 50px;
            letter-spacing: 15px;
        }

        /* 스타트 게임 버튼 및 깜빡이 효과 */
        #start-btn {
            padding: 20px 50px;
            font-size: 1.5rem;
            font-family: 'Orbitron', sans-serif;
            background: transparent;
            color: white;
            border: 2px solid var(--mars-red);
            cursor: pointer;
            transition: 0.3s;
            text-transform: uppercase;
        }

        #start-btn:hover {
            animation: blink 0.1s infinite;
            background: var(--mars-red);
            color: black;
            box-shadow: 0 0 30px var(--mars-red);
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        #sound-ctrl {
            margin-top: 20px;
            display: block;
            color: #888;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* 게임 캔버스 */
        #gameCanvas {
            display: none;
            background: #000;
            border: 2px solid var(--mars-red);
        }
    </style>
</head>
<body>

<div class="mars-bg"></div>

<div id="ui-layer">
    <h1>MARS<br>FUTURE<br>AI</h1>
    <button id="start-btn">START GAME</button>
    <button id="sound-ctrl">SOUND: OFF</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
    const startBtn = document.getElementById('start-btn');
    const uiLayer = document.getElementById('ui-layer');
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const soundBtn = document.getElementById('sound-ctrl');

    // 사운드 설정 (가상의 파일 설정)
    let soundOn = false;
    const bgm = new Audio('mars.mp3'); 
    bgm.loop = true;

    soundBtn.onclick = () => {
        soundOn = !soundOn;
        soundBtn.innerText = `SOUND: ${soundOn ? 'ON' : 'OFF'}`;
        if(soundOn) bgm.play().catch(e => console.log("Audio play blocked."));
        else bgm.pause();
    };

    // 게임 시작 시퀀스
    startBtn.onclick = () => {
        uiLayer.style.display = 'none';
        canvas.style.display = 'block';
        resizeCanvas();
        initGame();
    };

    function resizeCanvas() {
        canvas.width = 600;
        canvas.height = 800;
    }

    // 간단한 탄막 슈팅 엔진
    let player = { x: 300, y: 700, size: 20 };
    let bullets = [];
    let enemies = [];
    let enemyBullets = [];
    let frame = 0;

    function initGame() {
        requestAnimationFrame(gameLoop);
    }

    window.onmousemove = (e) => {
        const rect = canvas.getBoundingClientRect();
        player.x = e.clientX - rect.left;
        player.y = e.clientY - rect.top;
    };

    function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        frame++;

        // 플레이어 (AI 코어 느낌)
        ctx.fillStyle = '#fff';
        ctx.beginPath();
        ctx.arc(player.x, player.y, player.size/2, 0, Math.PI*2);
        ctx.fill();

        // 플레이어 탄환 생성
        if(frame % 5 === 0) {
            bullets.push({x: player.x, y: player.y - 20});
        }

        // 플레이어 탄환 이동 및 그리기
        bullets.forEach((b, i) => {
            b.y -= 10;
            ctx.fillStyle = '#0ff';
            ctx.fillRect(b.x-2, b.y, 4, 10);
            if(b.y < 0) bullets.splice(i, 1);
        });

        // 적군(MARS 위협) 생성
        if(frame % 60 === 0) {
            enemies.push({x: Math.random() * canvas.width, y: -50, hp: 3});
        }

        // 적군 및 탄막 로직
        enemies.forEach((en, i) => {
            en.y += 2;
            ctx.fillStyle = '#ff4d4d';
            ctx.fillRect(en.x - 20, en.y, 40, 40);

            // 적 탄막 생성
            if(frame % 40 === 0) {
                for(let a=0; a<Math.PI*2; a+=Math.PI/4) {
                    enemyBullets.push({x: en.x, y: en.y, vx: Math.cos(a)*3, vy: Math.sin(a)*3});
                }
            }
            if(en.y > canvas.height) enemies.splice(i, 1);
        });

        // 적 탄막 이동 및 그리기
        enemyBullets.forEach((eb, i) => {
            eb.x += eb.vx;
            eb.y += eb.vy;
            ctx.fillStyle = '#f0f';
            ctx.beginPath();
            ctx.arc(eb.x, eb.y, 4, 0, Math.PI*2);
            ctx.fill();

            // 충돌 감지 (간단히)
            let dist = Math.hypot(eb.x - player.x, eb.y - player.y);
            if(dist < 10) {
                // 게임 오버 연출 생략 (재시작 기능 등 확장 가능)
            }

            if(eb.y > canvas.height || eb.y < -100) enemyBullets.splice(i, 1);
        });

        requestAnimationFrame(gameLoop);
    }
</script>

</body>
</html>
