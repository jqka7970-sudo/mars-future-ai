<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MARS FUTURE AI</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;800&display=swap');

html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  background: black;
  font-family: 'Orbitron', sans-serif;
  overflow: hidden;
  color: #ff2b2b;
}

#startScreen {
  position: absolute;
  inset: 0;
  background: url("https://images.unsplash.com/photo-1580428180131-08c9c6e5b434")
              center/cover no-repeat;
  filter: hue-rotate(-20deg) brightness(0.6);
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 10;
}

header {
  margin-top: 40px;
  display: flex;
  gap: 40px;
  font-size: 32px;
  letter-spacing: 4px;
}

#startBtn {
  margin-top: auto;
  margin-bottom: 20px;
  font-size: 28px;
  padding: 20px 60px;
  background: transparent;
  border: 2px solid #ff2b2b;
  color: #ff2b2b;
  cursor: pointer;
  animation: blink 1.2s infinite;
}

#startBtn:hover {
  box-shadow: 0 0 20px #ff2b2b;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

#audioBtn {
  margin-bottom: 60px;
  background: none;
  border: 1px solid #ff2b2b;
  color: #ff2b2b;
  padding: 8px 16px;
  cursor: pointer;
}

canvas {
  display: none;
  margin: auto;
  background: #100000;
}
</style>
</head>

<body>

<!-- START SCREEN -->
<div id="startScreen">
  <header>
    <span>MARS</span>
    <span>FUTURE</span>
    <span>AI</span>
  </header>

  <button id="startBtn">START GAME</button>
  <button id="audioBtn">ðŸ”Š MARS.mp3</button>
</div>

<!-- GAME -->
<canvas id="game" width="480" height="640"></canvas>

<!-- BGM -->
<audio id="bgm" src="mars.mp3" loop preload="auto"></audio>

<script>
/* ====== BASIC SETUP ====== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const startScreen = document.getElementById("startScreen");
const startBtn = document.getElementById("startBtn");
const audioBtn = document.getElementById("audioBtn");
const bgm = document.getElementById("bgm");

let playing = false;
let audioOn = false;

/* ====== AUDIO TOGGLE ====== */
audioBtn.onclick = () => {
  if (!audioOn) {
    bgm.volume = 0.6;
    bgm.play();
    audioBtn.textContent = "ðŸ”‡ MARS.mp3";
  } else {
    bgm.pause();
    audioBtn.textContent = "ðŸ”Š MARS.mp3";
  }
  audioOn = !audioOn;
};

/* ====== START GAME ====== */
startBtn.onclick = () => {
  startScreen.style.display = "none";
  canvas.style.display = "block";
  playing = true;
  loop();
};

/* ====== GAME OBJECTS ====== */
const player = { x: 240, y: 560, r: 6 };
const bullets = [];
const enemies = [];
const enemyBullets = [];

/* ====== INPUT ====== */
document.addEventListener("mousemove", e => {
  if (!playing) return;
  const rect = canvas.getBoundingClientRect();
  player.x = e.clientX - rect.left;
  player.y = e.clientY - rect.top;
});

/* ====== PLAYER SHOOT ====== */
setInterval(() => {
  if (playing) bullets.push({ x: player.x, y: player.y, v: -6 });
}, 200);

/* ====== ENEMY SPAWN ====== */
setInterval(() => {
  if (playing) enemies.push({
    x: Math.random() * 440 + 20,
    y: -20,
    r: 10,
    t: 0
  });
}, 800);

/* ====== UPDATE ====== */
function update() {
  bullets.forEach(b => b.y += b.v);

  enemies.forEach(e => {
    e.y += 1.2;
    e.t++;
    if (e.t % 40 === 0) {
      for (let i = 0; i < 8; i++) {
        const a = (Math.PI * 2 / 8) * i;
        enemyBullets.push({
          x: e.x,
          y: e.y,
          vx: Math.cos(a) * 2,
          vy: Math.sin(a) * 2
        });
      }
    }
  });

  enemyBullets.forEach(b => {
    b.x += b.vx;
    b.y += b.vy;
  });
}

/* ====== DRAW ====== */
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "#ff2b2b";
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.r, 0, Math.PI * 2);
  ctx.fill();

  bullets.forEach(b => ctx.fillRect(b.x - 1, b.y - 6, 2, 6));

  enemies.forEach(e => {
    ctx.beginPath();
    ctx.arc(e.x, e.y, e.r, 0, Math.PI * 2);
    ctx.fill();
  });

  enemyBullets.forEach(b => ctx.fillRect(b.x, b.y, 3, 3));
}

/* ====== GAME LOOP ====== */
function loop() {
  if (!playing) return;
  update();
  draw();
  requestAnimationFrame(loop);
}
</script>

</body>
</html>
